MDScreen:
    MDBoxLayout:
        #size_hint: 1, 1
        #adaptive_height: True
        orientation: "vertical"
        padding: 20
        spacing: 2
        md_bg_color: rgba(50, 50, 50, 0)

        MDTopAppBar:
            title: "NP Probe Control Pad"

        MDFloatLayout:
            orientation: "horizontal"
            adaptive_height: True
            # padding: 30
            # spacing: 10

            MDLabel:
                text: 'Main Switch' 
                # halign: "center"
                size_hint: 0.25, 0.1
                # pos_hint: {"left": 0.1, "right": 0.5}
                pos_hint: {"center_x": 0.25, "center_y": 0.5}
                theme_text_color: "Custom"
                text_color: 0, 0, 1, 1
            MDFlatButton:
                text: 'OFF'
                size_hint: 0.1, 0.25
                pos_hint: {'center_x':0.6, 'center_y':0.5}
                line_color: 0,0,0,1
                on_release: app.main_valve_off()
            MDFlatButton:
                text: 'Successive'
                size_hint: 0.1, 0.25
                pos_hint: {'center_x':0.75, 'center_y':0.5}
                line_color: 0,0,0,1
                on_release: app.main_valve_successive()
            MDFlatButton:
                text: 'Interval'
                size_hint: 0.1, 0.25
                pos_hint: {'center_x':0.9, 'center_y':0.5}
                line_color: 0,0,0,1
                on_release: app.main_valve_interval()

        MDFloatLayout:
            adaptive_height: True
            orientation: "horizontal"
            # padding: 50
            # spacing: 10
            md_bg_color: rgba(200, 0, 0, 0)

            MDLabel:
                
                text: 'Main Pressure PWM: %s' % int(pwm_slider.value)
                # halign: "center"
                size_hint: 0.25, 0.1
                # pos_hint: {"left": 0.1, "right": 0.2}
                pos_hint: {"center_x": 0.25, "center_y": 0.5}
                theme_text_color: "Custom"
                text_color: 0, 0, 1, 1

            MDSlider:
                id: pwm_slider
                title: "MDLabel"
                min: 0
                max: 255
                value: 0
                hint: False
                show_off: False
                on_touch_up: app.main_slider_function(self.value)
                # pos_hint: {"left": 0.2, "right": 0.5}
                pos_hint: {"center_x": 0.75, "center_y": 0.5}
                size_hint: 0.4, 0.2
                color: "red"    
                # thumb_color_active: "blue"
                # thumb_color_inactive: "red"

        MDFloatLayout:
            adaptive_height: True
            orientation: "horizontal"
            # padding: 50
            # spacing: 10

            MDLabel:
                text: 'Main Pressure Threshold: %s mmHg' % int(main_valve_threshold_slider.value)
                # halign: "center"
                size_hint: 0.25, 0.1
                # pos_hint: {"left": 0.1, "right": 0.2}
                pos_hint: {"center_x": 0.25, "center_y": 0.5}
                theme_text_color: "Custom"
                text_color: 0, 0, 1, 1

            MDSlider:
                id: main_valve_threshold_slider
                title: "MDLabel"
                min: 0
                max: 250
                value: 100
                hint: False
                on_touch_up: app.main_valve_threshold_function(self.value)
                # pos_hint: {"left": 0.2, "right": 0.5}
                pos_hint: {"center_x": 0.75, "center_y": 0.5}
                size_hint: 0.4, 0.2
                color: "red"    
                # thumb_color_active: "blue"
                # thumb_color_inactive: "red"
        MDFloatLayout:
            adaptive_height: True
            orientation: "horizontal"
            # padding: 50
            # spacing: 10

            MDLabel:
                text: 'Interval Cycle Time: %s s' % round(main_interval_freq_slider.value/10,1)
                # halign: "center"
                size_hint: 0.25, 0.1
                # pos_hint: {"left": 0.1, "right": 0.2}
                pos_hint: {"center_x": 0.25, "center_y": 0.5}
                theme_text_color: "Custom"
                text_color: 0, 0, 1, 1

            MDSlider:
                id: main_interval_freq_slider
                title: "MDLabel"
                min: 5
                max: 50
                value: 20
                hint: False
                on_touch_up: app.main_interval_freq_function(self.value)
                # pos_hint: {"left": 0.2, "right": 0.5}
                pos_hint: {"center_x": 0.75, "center_y": 0.5}
                size_hint: 0.4, 0.2
                color: "red"    
                # thumb_color_active: "blue"
                # thumb_color_inactive: "red"

        MDFloatLayout:
            adaptive_height: True
            orientation: "horizontal"
            # padding: 50
            # spacing: 10

            MDLabel:
                text: 'Interval Duty Cycle: %s %%' % int(main_interval_duty_cycle_slider.value)
                # halign: "center"
                size_hint: 0.25, 0.1
                # pos_hint: {"left": 0.1, "right": 0.2}
                pos_hint: {"center_x": 0.25, "center_y": 0.5}
                theme_text_color: "Custom"
                text_color: 0, 0, 1, 1

            MDSlider:
                id: main_interval_duty_cycle_slider
                title: "MDLabel"
                min: 30
                max: 90
                value: 50
                hint: False
                on_touch_up: app.main_interval_duty_cycle_function(self.value)
                # pos_hint: {"left": 0.2, "right": 0.5}
                pos_hint: {"center_x": 0.75, "center_y": 0.5}
                size_hint: 0.4, 0.2
                color: "red"    
                # thumb_color_active: "blue"
                # thumb_color_inactive: "red"

        MDFloatLayout:
            adaptive_height: True
            orientation: "horizontal"
            # padding: 50
            # spacing: 10

            MDLabel:
                text: 'Main Pressure Value: %s mmHg' % int(main_pressure_value.value)
                # halign: "center"
                size_hint: 0.25, 0.1
                # pos_hint: {"left": 0.1, "right": 0.2}
                pos_hint: {"center_x": 0.25, "center_y": 0.5}
                theme_text_color: "Custom"
                text_color: 0, 0, 1, 1

            MDProgressBar:
                id: main_pressure_value
                min: 0
                max: 250
                size_hint: 0.25, 0.5
                pos_hint: {"center_x": 0.7, "center_y": 0.5}
                # value: 50
                hint: False
            
            MDLabel:
                text: 'mmHg'
                # halign: "center"
                size_hint: 0.25, 0.1
                # pos_hint: {"left": 0.1, "right": 0.2}
                pos_hint: {"center_x": 1, "center_y": 0.5}
                theme_text_color: "Custom"
                text_color: 0, 0, 1, 1



            # MDSwitch:
            #     on_active: app.main_valve_switch(*args)
            #     halign: "center"
            #     width: dp(35)
            #     pos_hint: {"center_x": 0.8, "center_y": 0.5}
